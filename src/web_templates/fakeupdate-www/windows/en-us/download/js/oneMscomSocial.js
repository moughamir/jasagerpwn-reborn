
window.Mst===undefined&&(window.Mst={}),Mst.Social===undefined&&(Mst.Social={}),Mst.SocialFlyout=function(n,t,i,r){var f="#mstSocial_Embed_CodeSnippet_Text",u=this;u.Control=$("#"+n),u._id=n,u._Socialcontrol1=t,u._Socialcontrol2=i,u._Socialcontrol3=r,u.Control.find("#mstSocialShare").click($.proxy(u.ShowShare,u)),u.Control.find("#mstSocialSharePopupClose").click($.proxy(u.HideShare,u)),u.Control.find(".btnCopyToClipboard").click($.proxy(u.CopyToClipboard,u)),u.Control.mouseenter($.proxy(u.OnHover,u)),$(u.Control.find("#li_mstSocialTwitter a")).focus($.proxy(u.OnHover,u)),$(u.Control.find("#li_mstSocialFacebook a")).focus($.proxy(u.OnHover,u)),u.Control.find("#mstSocialEmbed").click($.proxy(u.ShowEmbed,u)),u.Control.find("#mstSocialEmbedPopupClose").click($.proxy(u.HideEmbed,u));var e=u.Control.find(f).text();u.Control.find(f).text(decodeURIComponent(e)),$($.proxy(u.ShowFacebookAndTwitter,u))},Mst.SocialFlyout.prototype={ShowFacebookAndTwitter:function(){$(this.Control.find("#li_mstSocialFacebook")).css("display","block"),$(this.Control.find("#li_mstSocialTwitter")).css("display","block")},ShowShare:function(n){n&&n.preventDefault();var t=$(this.Control.find(".mstSocial_Share_Popup"));t.slideDown(200),this.BiTrack(2,9,"#mstSocialShare")},HideShare:function(n){n&&n.preventDefault();var t=$(this.Control.find(".mstSocial_Share_Popup"));t.slideUp(200),this.BiTrack(2,10,"#mstSocialEmbed")},CopyToClipboard:function(){window.clipboardData&&clipboardData.setData&&clipboardData.setData("Text",this.Control.find("#mstSocial_Embed_CodeSnippet_Text").text())},ShowEmbed:function(n){var t=this;n&&n.preventDefault(),window.clipboardData&&clipboardData.setData&&$(t.Control.find(".btnCopyToClipboard")).css("display","inline-block"),t.Control.find("#mstSocial_Embed_CodeSnippet_Text").select();var i=$(t.Control.find(".mstSocial_Embed_Popup"));i.slideDown(200),t.BiTrack(2,9,"#mstSocialEmbed")},HideEmbed:function(n){n&&n.preventDefault();var t=$(this.Control.find(".mstSocial_Embed_Popup"));t.slideUp(200),this.BiTrack(2,10,"#mstSocialEmbed")},OnHover:function(){var t=this;t.Control.unbind("mouseenter"),$(t.Control.find("#li_mstSocialTwitter a")).unbind("focus"),$(t.Control.find("#li_mstSocialFacebook a")).unbind("focus"),$(t.Control.find(".social-item-flyout")).css("display","block"),$(t.Control.find(".social-item-tab")).hide(),t._Socialcontrol1!=null&&t._Socialcontrol1.LoadControl(t._id),t._Socialcontrol2!=null&&t._Socialcontrol2.LoadControl(t._id),t._Socialcontrol3!=null&&t._Socialcontrol3.LoadControl(t._id)},BiTrack:function(n,t,i){return $.bi&&$.bi.dataRetrievers.structure&&(params={},params.interactiontype=t,params.cot=5,params.parenttypestructure=$.bi.dataRetrievers.structure.getTypeStructure(this.Control.find(i)),$.bi.record(params)),!0}},Mst.Social.FaceBook=function(n,t,i,r){var u=this;u.locale=n,u.id="facebook-jssdk",u.script="script",u.appId=t,u.document=document,u.faceBookControlID=i,u.faceBookHtml=r},Mst.Social.FaceBook.prototype={LoadControl:function(n){var i="undefined",t=this;t.Control=$("#"+n),t.faceBookControl=t.Control.find("#"+t.faceBookControlID),typeof FB==i&&(t.faceBookHtml='<div id="fb-root"></div>'+t.faceBookHtml),t.faceBookControl.html(t.faceBookHtml),typeof FB!=i?FB.XFBML.parse():t.LoadFaceBookScript()},LoadFaceBookScript:function(){var i="xmlns:fb",n=this;$("html").attr(i)==undefined&&$("html").attr(i,"http://ogp.me/ns/fb#");var t,r=n.document.getElementsByTagName(n.script)[0];if(n.document.getElementById(n.id))return;t=n.document.createElement(n.script),t.id=n.id,t.src="//connect.facebook.net/"+n.locale+"/all.js#appId="+n.appId+"&xfbml=1",r.parentNode.insertBefore(t,r)}},Mst.Social.Twitter=function(n,t){this.twitterControlID=n,this.twitterHtml=t},Mst.Social.Twitter.prototype={LoadControl:function(n){var t=this;t.Control=$("#"+n),t.TwitterControl=t.Control.find("#"+t.twitterControlID),t.TwitterControl.html(t.twitterHtml),typeof twttr!="undefined"?twttr.widgets.load():t.LoadTwitterScript()},LoadTwitterScript:function(){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="//platform.twitter.com/widgets.js",document.getElementsByTagName("head")[0].appendChild(n)}}
